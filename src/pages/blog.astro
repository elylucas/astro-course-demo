---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const allPosts = await getCollection('posts');
console.log({ allPosts });
---

<Layout title="Blog - Astro Course">
  <main class="px-24 max-sm:px-5 max-w-7xl mx-auto w-full">
    <h1 class="text-6xl text-teal-500 mb-5 font-bold">RhytmBlog</h1>
    <p class="text-zinc-900 text-2xl mb-24 max-sm:mb-14">
      Join the community and learn stuff.
    </p>
    <ul>
      {allPosts.map(post => {
        return (
          <li class="mb-10">
            <a href={`/blog/${post.slug}`} class="text-2xl font-bold">
              {post.data.title}
            </a>
          </li>
        );
      })}
    </ul>
  </main>
</Layout>
